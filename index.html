<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finance Digital</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto;
background:linear-gradient(160deg,#0f172a,#1e293b);
color:white;
min-height:100vh;
}

header{
padding:25px 20px;
font-size:20px;
font-weight:600;
}

.container{
padding:0 20px 80px;
}

.card{
background:rgba(30,41,59,0.9);
border-radius:18px;
padding:18px;
margin-bottom:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.4);
}

.title{
font-size:14px;
color:#94a3b8;
}

.value{
font-size:22px;
font-weight:600;
margin-top:5px;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:12px;
margin-top:10px;
font-weight:500;
background:#2563eb;
color:white;
}

input{
width:100%;
padding:10px;
margin-top:8px;
border-radius:10px;
border:none;
background:#0f172a;
color:white;
}

.nav{
position:fixed;
bottom:0;
left:0;
right:0;
background:#111827;
display:flex;
justify-content:space-around;
padding:10px 0;
border-top:1px solid #1f2937;
}

.nav button{
background:none;
border:none;
color:#94a3b8;
font-size:12px;
}

.nav button.active{
color:#2563eb;
font-weight:600;
}

.hidden{display:none;}
</style>
</head>

<body>

<header id="pageTitle">Dashboard</header>

<div class="container">

<!-- DASHBOARD -->
<div id="dashboard">

<div class="card">
<div class="title">Saldo Atual</div>
<div class="value" id="saldo">R$ 0</div>
</div>

<div class="card">
<div class="title">Receitas do Mês</div>
<div class="value" id="totalReceitas">R$ 0</div>
</div>

<div class="card">
<div class="title">Despesas do Mês</div>
<div class="value" id="totalDespesas">R$ 0</div>
</div>

</div>

<!-- RECEITAS -->
<div id="receitas" class="hidden">
<div class="card">
<input type="number" id="valorReceita" placeholder="Valor da receita">
<button onclick="addReceita()">Adicionar Receita</button>
</div>
<div id="listaReceitas"></div>
</div>

<!-- DESPESAS -->
<div id="despesas" class="hidden">
<div class="card">
<input type="number" id="valorDespesa" placeholder="Valor da despesa">
<button onclick="addDespesa()">Adicionar Despesa</button>
</div>
<div id="listaDespesas"></div>
</div>

<!-- METAS -->
<div id="metas" class="hidden">
<div class="card">
<input type="text" id="nomeMeta" placeholder="Nome da meta">
<input type="number" id="valorMeta" placeholder="Valor total">
<button onclick="addMeta()">Criar Meta</button>
</div>
<div id="listaMetas"></div>
</div>

</div>

<!-- NAVEGAÇÃO -->
<div class="nav">
<button onclick="showPage('dashboard',this)" class="active">Home</button>
<button onclick="showPage('receitas',this)">Receitas</button>
<button onclick="showPage('despesas',this)">Despesas</button>
<button onclick="showPage('metas',this)">Metas</button>
</div>

<script>
let receitas = JSON.parse(localStorage.getItem("receitas"))||[];
let despesas = JSON.parse(localStorage.getItem("despesas"))||[];
let metas = JSON.parse(localStorage.getItem("metas"))||[];

function salvar(){
localStorage.setItem("receitas",JSON.stringify(receitas));
localStorage.setItem("despesas",JSON.stringify(despesas));
localStorage.setItem("metas",JSON.stringify(metas));
}

function atualizarDashboard(){
let totalReceitas = receitas.reduce((a,b)=>a+b,0);
let totalDespesas = despesas.reduce((a,b)=>a+b,0);
let saldo = totalReceitas-totalDespesas;

document.getElementById("totalReceitas").innerText="R$ "+totalReceitas.toLocaleString("pt-BR");
document.getElementById("totalDespesas").innerText="R$ "+totalDespesas.toLocaleString("pt-BR");
document.getElementById("saldo").innerText="R$ "+saldo.toLocaleString("pt-BR");
}

function addReceita(){
let v=Number(document.getElementById("valorReceita").value);
if(v>0){receitas.push(v);salvar();renderReceitas();}
}

function addDespesa(){
let v=Number(document.getElementById("valorDespesa").value);
if(v>0){despesas.push(v);salvar();renderDespesas();}
}

function addMeta(){
let nome=document.getElementById("nomeMeta").value;
let valor=Number(document.getElementById("valorMeta").value);
if(nome && valor>0){
metas.push({nome:nome,total:valor,pago:0});
salvar();
renderMetas();
}
}

function renderReceitas(){
let lista=document.getElementById("listaReceitas");
lista.innerHTML="";
receitas.forEach(v=>{
lista.innerHTML+=`<div class="card">+ R$ ${v.toLocaleString("pt-BR")}</div>`;
});
atualizarDashboard();
}

function renderDespesas(){
let lista=document.getElementById("listaDespesas");
lista.innerHTML="";
despesas.forEach(v=>{
lista.innerHTML+=`<div class="card">- R$ ${v.toLocaleString("pt-BR")}</div>`;
});
atualizarDashboard();
}

function renderMetas(){
let lista=document.getElementById("listaMetas");
lista.innerHTML="";
metas.forEach(m=>{
let p=(m.pago/m.total)*100||0;
lista.innerHTML+=`
<div class="card">
<div class="title">${m.nome}</div>
<div class="value">${p.toFixed(1)}%</div>
</div>`;
});
}

function showPage(id,btn){
document.querySelectorAll(".container > div").forEach(p=>p.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");

document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");

document.getElementById("pageTitle").innerText=btn.innerText;
}

renderReceitas();
renderDespesas();
renderMetas();
atualizarDashboard();
</script>

</body>
</html>
