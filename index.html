<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finance Pro</title>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto;
background:#0f172a;
color:white;
}

header{
padding:25px 20px;
font-size:22px;
font-weight:600;
}

.container{
padding:0 20px 40px;
}

.card{
background:#111827;
border-radius:18px;
padding:18px;
margin-bottom:15px;
box-shadow:0 8px 20px rgba(0,0,0,0.4);
}

.title{
font-size:16px;
font-weight:600;
}

.meta{
font-size:13px;
color:#9ca3af;
margin-bottom:10px;
}

.progress{
height:10px;
background:#1f2937;
border-radius:20px;
overflow:hidden;
margin:10px 0;
}

.bar{
height:100%;
width:0%;
background:linear-gradient(90deg,#22c55e,#16a34a);
transition:0.5s;
}

.info{
display:flex;
justify-content:space-between;
font-size:13px;
}

button{
border:none;
border-radius:12px;
padding:10px;
font-size:13px;
margin-top:8px;
cursor:pointer;
}

.add{
width:100%;
padding:14px;
font-size:15px;
background:#22c55e;
color:white;
margin-bottom:20px;
}

.pay{
background:#2563eb;
color:white;
width:100%;
}

.reset{
background:#f59e0b;
color:white;
width:48%;
}

.delete{
background:#dc2626;
color:white;
width:48%;
}

.actions{
display:flex;
justify-content:space-between;
}

input{
width:100%;
padding:10px;
border-radius:10px;
border:none;
margin-top:8px;
background:#1f2937;
color:white;
}
</style>
</head>

<body>

<header>Finance Pro</header>

<div class="container">

<button class="add" onclick="novaMeta()">+ Nova Quitação</button>

<div id="metas"></div>

</div>

<script>
let metas = JSON.parse(localStorage.getItem("metas")) || [];

function salvar(){
localStorage.setItem("metas", JSON.stringify(metas));
}

function novaMeta(){
let nome = prompt("Nome da quitação:");
let valor = Number(prompt("Valor total da dívida:"));

if(nome && valor > 0){
metas.push({nome:nome,total:valor,pago:0});
salvar();
render();
}
}

function pagar(index){
let valor = Number(prompt("Valor do pagamento:"));
if(valor > 0){
metas[index].pago += valor;
salvar();
render();
}
}

function resetar(index){
if(confirm("Deseja zerar essa quitação?")){
metas[index].pago = 0;
salvar();
render();
}
}

function excluir(index){
if(confirm("Deseja excluir essa quitação?")){
metas.splice(index,1);
salvar();
render();
}
}

function render(){
let container = document.getElementById("metas");
container.innerHTML="";

metas.forEach((meta,index)=>{

let porcentagem = (meta.pago/meta.total)*100;
if(porcentagem > 100) porcentagem = 100;

container.innerHTML += `
<div class="card">
<div class="title">${meta.nome}</div>
<div class="meta">Meta: R$ ${meta.total.toLocaleString("pt-BR")}</div>

<div class="progress">
<div class="bar" style="width:${porcentagem}%"></div>
</div>

<div class="info">
<div>Pago: R$ ${meta.pago.toLocaleString("pt-BR")}</div>
<div>${porcentagem.toFixed(1)}%</div>
</div>

<button class="pay" onclick="pagar(${index})">Registrar Pagamento</button>

<div class="actions">
<button class="reset" onclick="resetar(${index})">Resetar</button>
<button class="delete" onclick="excluir(${index})">Excluir</button>
</div>
</div>
`;
});
}

render();
</script>

</body>
</html>
